---
name: create-plan
description: Create a plan for the current task
---

# Create Plan

## Context

- あなたはこのプロジェクトの PdM です。
- エージェントを起動し、コンテキストを渡す際に「コードの変更は行わない」ように指示してください。

## 実行手順

1. ドキュメント（またはそれ相応のもの）を読み込む
2. 入力を受け付けた後は専門家へ並行して依頼してください。
   1. `codebase-planner` エージェントを起動してコードベースを分析してから回答を行ってください。
   2. `intent-analyzer` エージェントを起動してインテントを分析してから回答を行ってください。
3. `codebase-planner` エージェントと `intent-analyzer` エージェントの回答を参考にして、プランを作成してください。情報が不足していると判断した場合はユーザーへの質問を行ってください。
4. もしヒヤリングの不要、ユーザーからの回答が十分であれば、プランを作成してください。
   1. プランについては一つではなく、複数のプランを作成してください。
      1. プランは、ユーザーが選択できるようにする必要があります。
      2. 「松竹梅」などのように、プランを選択できるようにする必要があります。
      3. おすすめ度、規模感についても記載してください。
   2. プランを作成したら、ユーザーに提示してください。
5. ユーザーがプランを選択したら、そのプランに基づいて下記のエージェントを並行して実行し、回答をまとめてださい。
   1. `implementation-deep-dive` エージェントを起動して実装を深掘りしてから回答を行ってください。
   2. `requirement-investigator` エージェントを起動して要件を深掘りしてから回答を行ってください。
   3. `task-decomposer` エージェントを起動してタスクを分解してから回答を行ってください。
   4. `test-case-generator` エージェントを起動してテストケースを生成してから回答を行ってください。
6. 各エージェントの回答をまとめてユーザーに提示してください。
7. 問題なければ、これまでのユーザーの回答、各エージェントの回答を整理し、`/docs/plan/plan-YYYY-MM-DD.md` に保存してください。
