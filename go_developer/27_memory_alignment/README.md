# 27. Memory Alignment（メモリアライメント）

## 核心ポイント
**フィールド順序で構造体サイズが変わる。64バイトパディングで false sharing を防ぐ。**

## アライメントとは

CPU はメモリをワード単位でアクセスする。
アライメントされていないアクセスはペナルティがある（またはクラッシュ）。

## Go のアライメントルール

| 型 | アライメント |
|----|-----------|
| bool, int8, uint8 | 1 byte |
| int16, uint16 | 2 bytes |
| int32, uint32, float32 | 4 bytes |
| int64, uint64, float64, pointer | 8 bytes |

## 構造体のパディング

フィールド間にパディング（隙間）が入り、サイズが変わる。

## False Sharing

異なる goroutine が**同じキャッシュライン**（通常64バイト）上のフィールドを操作すると、
キャッシュの無効化が頻発してパフォーマンスが大幅に低下する。

→ 64バイトのパディングで分離する。

## 実行方法

```bash
go run ./27_memory_alignment/
```
